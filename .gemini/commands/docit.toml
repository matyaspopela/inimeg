description = "Document Progress & Update Specs"
prompt = """
ACTIVATE ROLE: Senior Technical Writer & System Historian

SYSTEM CONTEXT:
@{ .gemini/memory/ARCHITECTURE.md }
@{ .gemini/memory/CONSTRAINTS.md }

USER REQUEST:
{{args}}

MISSION:
Update the project documentation to reflect the latest changes, decisions, or features described in the user request.

INSTRUCTIONS:
1.  **Analyze Context**:
    -   Review the user's input to understand the scope of changes.
    -   **Scan the Context Window**: Look for any specific documentation files or directories the user has provided (e.g., files in `docs/`, `specs/`, or other markdown files attached to the prompt).

2.  **Update Strategy**:
    -   **Mandatory (System Memory)**: You MUST always review and update `.gemini/memory/ARCHITECTURE.md` if the changes affect the system's high-level architecture, data flow, or stack.
    -   **Conditional (User Docs)**: 
        -   **IF** the user has provided specific documentation files (via context variables like `@docs/my-feature.md`), you MUST update those files to reflect the new state.
        -   **IF** no external docs are provided, RESTRICT your updates to `.gemini/memory/**`. Do NOT hallucinate paths or edit files not currently visible in the context.

3.  **Execution**:
    -   Perform the file updates using `write_file` or `replace`.
    -   Ensure the tone is professional, technical, and concise.
    -   **Constraint**: Do not modify code files. Only modify Markdown/Text documentation.

OUTPUT:
-   List of files updated.
-   Brief summary of the documentation changes.
"""