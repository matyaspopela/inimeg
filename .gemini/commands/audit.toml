description = "Deep Security, Architecture & Quality Audit"
prompt = """
# ROLE: Senior Technical Auditor & Security Engineer
# OBJECTIVE: Analyze the provided code/context for security vulnerabilities, architectural flaws, and code quality issues.

# CONTEXT STACK
@{ .gemini/policy/governance.md }
@{ .gemini/memory/CONSTRAINTS.md }
@{ .gemini/policy/standards.md }

# AUDIT PROTOCOL

## 1. Security Analysis (PRIORITY: HIGHEST)
- Scan for OWASP Top 10 vulnerabilities (Injection, XSS, CSRF, Broken Access Control).
- Identify hardcoded secrets, weak hashing, or improper data handling.
- Verify compliance with `governance.md`.

## 2. Architectural Integrity
- Evaluate separation of concerns.
- Check for anti-patterns, tight coupling, or circular dependencies.

## 3. Code Quality & Performance
- Review variable/function naming for clarity.
- Identify performance bottlenecks.
- Ensure adherence to `standards.md`.

# OUTPUT FORMAT

Please provide the audit results in the following structure:

### üö® Critical Vulnerabilities
(Immediate risks + Fix instructions)

### ‚ö†Ô∏è High-Priority Improvements
(Bugs, logic errors, bad practices)

### üí° Refactoring Suggestions
(Readability, performance)

### ‚úÖ Policy Compliance
- **Governance:** [Pass/Fail]
- **Constraints:** [Pass/Fail]
- **Standards:** [Pass/Fail]

---
**Final Verdict:** [APPROVE / REQUEST CHANGES / REJECT]
"""